<!DOCTYPE html>
<html lang="fr">
  <head>
    <title>Cart</title>

    <meta charset="utf-8" />
    <meta name="description" content="Plateforme incroyable de e-commerce" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <link href="../css/style.css" rel="stylesheet" />
    <link href="../css/cart.css" rel="stylesheet" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>

  <body>
    coucou
    <header id="header"></header>

    <footer id="footer"></footer>

    <script>
      contact = {
        firstName: "Pierre-henry",
        lastName: "Dupont-Telle2",
        address: "3 rue des martyrs,Paris",
        city: "75019",
        email: "dupont456@gmail.com",
      };
      let listProd = [
        "415b7cacb65d43b2b5c1ff70f3393ad1",
        "107fb5b75607497b96722bda5b504926",
      ];

      const request = {
        contact: contact,
        products: listProd,
      };
      let url = "http://localhost:3000/api/products/order";

      console.log(request);

      //Send to http://localhost:3000/api/teddies/order
      const options = {
        method: "POST",
        body: JSON.stringify(request),
        headers: {
          "Content-Type": "application/json",
        },
      };

      fetch(url, options)
        .then((res) => res.json())
        .then((res) => {
          let order = JSON.stringify(res);

          console.log(order);
        })
        .catch(function (error) {
          alert("Impossible d'envoyer la requête");
        });
    </script>
  </body>
  <!-- {"contact":{"firstName":"Pierre-henry","lastName":"Dupont-Telle2","address":"3 rue des martyrs,Paris","city":"75019","email":"dupont456@gmail.com"},
    "products":[{"colors":["Black/Yellow","Black/Red"],"_id":"415b7cacb65d43b2b5c1ff70f3393ad1","name":"Kanap Cyllène","price":4499,"imageUrl":"http://localhost:3000/images/kanap02.jpeg","description":"Morbi nec erat aliquam, sagittis urna non, laoreet justo. Etiam sit amet interdum diam, at accumsan lectus.","altTxt":"Photo d'un canapé jaune et noir, quattre places"},{"colors":["Blue","White","Black"],"_id":"107fb5b75607497b96722bda5b504926","name":"Kanap Sinopé","price":1849,"imageUrl":"http://localhost:3000/images/kanap01.jpeg","description":"Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.","altTxt":"Photo d'un canapé bleu, deux places"}],
    "orderId":"a42a4ac0-326a-11ec-bc37-cf822b905a00"} -->
</html>
