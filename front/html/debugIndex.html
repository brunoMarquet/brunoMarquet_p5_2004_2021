<!DOCTYPE html>
<html lang="fr">
  <head>
    <title>Kanap</title>
    <meta charset="utf-8" />
    <meta name="description" content="Plateforme incroyable de e-commerce" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <link href="../css/style.css" rel="stylesheet" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>

  <body>
    <header id="header"><nav>
      <ul>
      <a href="param.html"><li>paramètres</li></a>
        <a href="./index.html"><li>Accueil</li></a>
        <a href="./cart.html"><li>Panier</li></a>
        <a href="../temp/cart2.html"><li>Panier2</li></a>
    </nav></header>
    <main class="limitedWidthBlockContainer">
      <div class="limitedWidthBlock">
        <div class="titles">
          <h1>Nos produits</h1>
          <h2>Une gamme d'articles exclusifs</h2>
        </div>
        <section class="items" id="items"></section>
        <section class="items" id="items2"></section>
      </div>
    </main>
   
    <!-- <a href="./product.html?id=42">
      <article>
        <img src=".../product01.jpg" alt="Lorem ipsum dolor sit amet, Kanap name1">
        <h3 class="productName">Kanap name1</h3>
        <p class="productDescription">Dis enim malesuada risus sapien gravida nulla nisl arcu. Dis enim malesuada risus sapien gravida nulla nisl arcu.</p>
      </article>
    </a> -->
    <template id="produitTemplate">
      <a href="">
        <article>
          <img src="" alt="">
          <h3 class="productName"></h3>
          <p class="productDescription">legende</article>
      </a>
    </template>

    <footer id="footer"></footer>
    <script>
	

	
	
	
	
	
	
	
	
	
	
	
	//
	const listeProduit = [
  {
    "colors": ["Blue", "White", "Black"],
    "_id": "107fb5b75607497b96722bda5b504926",
    "name": "Kanap Sinopé",
    "price": 1849,
    "imageUrl": "kanap01.jpeg",
    "description": "Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",
    "altTxt": "Photo d'un canapé bleu, deux places"
  },
  {
    "colors": ["Black/Yellow", "Black/Red"],
    "_id": "415b7cacb65d43b2b5c1ff70f3393ad1",
    "name": "Kanap Cyllène",
    "price": 4499,
    "imageUrl": "kanap02.jpeg",
    "description": "Morbi nec erat aliquam, sagittis urna non, laoreet justo. Etiam sit amet interdum diam, at accumsan lectus.",
    "altTxt": "Photo d'un canapé jaune et noir, quattre places"
  },
  {
    "colors": ["Green", "Red", "Orange"],
    "_id": "055743915a544fde83cfdfc904935ee7",
    "name": "Kanap Calycé",
    "price": 3199,
    "imageUrl": "kanap03.jpeg",
    "description": "Pellentesque fermentum arcu venenatis ex sagittis accumsan. Vivamus lacinia fermentum tortor.Mauris imperdiet tellus ante.",
    "altTxt": "Photo d'un canapé d'angle, vert, trois places"
  },
  {
    "colors": ["Pink", "White"],
    "_id": "a557292fe5814ea2b15c6ef4bd73ed83",
    "name": "Kanap Autonoé",
    "price": 1499,
    "imageUrl": "kanap04.jpeg",
    "description": "Donec mattis nisl tortor, nec blandit sapien fermentum at. Proin hendrerit efficitur fringilla. Lorem ipsum dolor sit amet.",
    "altTxt": "Photo d'un canapé rose, une à deux place"
  },
  {
    "colors": ["Grey", "Purple", "Blue"],
    "_id": "8906dfda133f4c20a9d0e34f18adcf06",
    "name": "Kanap Eurydomé",
    "price": 2249,
    "imageUrl": "kanap05.jpeg",
    "description": "Ut laoreet vulputate neque in commodo. Suspendisse maximus quis erat in sagittis. Donec hendrerit purus at congue aliquam.",
    "altTxt": "Photo d'un canapé gris, trois places"
  },
  {
    "colors": ["Grey", "Navy"],
    "_id": "77711f0e466b4ddf953f677d30b0efc9",
    "name": "Kanap Hélicé",
    "price": 999,
    "imageUrl": "kanap06.jpeg",
    "description": "Curabitur vel augue sit amet arcu aliquet interdum. Integer vel quam mi. Morbi nec vehicula mi, sit amet vestibulum.",
    "altTxt": "Photo d'un canapé gris, deux places"
  },
  {
    "colors": ["Red", "Silver"],
    "_id": "034707184e8e4eefb46400b5a3774b5f",
    "name": "Kanap Thyoné",
    "price": 1999,
    "imageUrl": "kanap07.jpeg",
    "description": "EMauris imperdiet tellus ante, sit amet pretium turpis molestie eu. Vestibulum et egestas eros. Vestibulum non lacus orci.",
    "altTxt": "Photo d'un canapé rouge, deux places"
  },
  {
    "colors": ["Pink", "Brown", "Yellow", "White"],
    "_id": "a6ec5b49bd164d7fbe10f37b6363f9fb",
    "name": "Kanap orthosie",
    "price": 3999,
    "imageUrl": "kanap08.jpeg",
    "description": "Mauris molestie laoreet finibus. Aenean scelerisque convallis lacus at dapibus. Morbi imperdiet enim metus rhoncus.",
    "altTxt": "Photo d'un canapé rose, trois places"
  }
];

//ecart nom
let rustine_img="http://localhost:3000/images/";

// fin specifiq
const leMax = listeProduit.length;

document.getElementById("items").innerHTML=ecrireHtml();

//document.getElementById("items2").appendChild(ecrireDom());
document.getElementById("items2").appendChild(ecrireTemplate());

function ecrireTemplate(){
  let fragmentSom = new DocumentFragment();
  let fragment1 = new DocumentFragment();
      let template = document.getElementById("produitTemplate")
      for (let i = 0; i < leMax; i++) {
          const clone = document.importNode(template.content, true);
          const lien = clone.querySelector('a');
          const nom = clone.querySelector('h3');
          const image = clone.querySelector('img');
          const descript = clone.querySelector("p"); 
          image.src =rustine_img+listeProduit[i].imageUrl;
          image.src.alt = listeProduit[i].altTxt;
          lien.href= listeProduit[i]._id;
          nom.textContent=listeProduit[i].name;
          descript.textContent=listeProduit[i].description;
          //console.log(image);

          fragment1.appendChild(clone);
 fragmentSom.appendChild(fragment1);




      }
      return fragmentSom;
   


}


function ecrireDom(){
   let fragmentSomme = new DocumentFragment();

    for (let i = 0; i < leMax; i++) {
      let fragment1 = new DocumentFragment();
      let fragment2 = new DocumentFragment();
      let fragment3 = new DocumentFragment();

      fragment1 = document.createElement("a");
      fragment1.href = "produit.html?id=" + listeProduit[i]._id;

      //fragment1.textContent = "Choisir" +listeProduit[i].name;
      fragment2=document.createElement("article");

      fragment3 = document.createElement('img');
      fragment3.src=rustine_img+listeProduit[i].imageUrl;
      fragment3.alt=listeProduit[i].altTxt;
      fragment2.appendChild(fragment3);

      fragment3 = document.createElement('h3');
      fragment3.textContent = listeProduit[i].name;
      fragment3.className="productName";
      fragment2.appendChild(fragment3);

      fragment3 = document.createElement('p');
      fragment3.textContent = listeProduit[i].description;
      fragment3.className="productDescription";
      fragment2.appendChild(fragment3);

      fragment1.appendChild(fragment2);
      fragmentSomme.appendChild(fragment1);
    }
    return fragmentSomme;


}


function ecrireHtml() {
    
    let texte = "";
   
    console.log(listeProduit.length);

    for (let i = 0; i < leMax; i++) {
      
      texte += `<a href="product.html?id=${listeProduit[i]._id}">
        <article>
          <img src="${rustine_img+listeProduit[i].imageUrl}" alt="${listeProduit[i].altTxt}">
          <h3 class="productName">${listeProduit[i].name}</h3>
          <p class="productDescription"> ${listeProduit[i].description} </p>
        </article>
      </a>`;
     
    }
   //console.log(texte);

    return texte;
   
  };


	</script>
  </body>
</html>
